% Copyright 2007 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.


% Common packages

%-----------------------------------------------------
%beamerexample-lecture-style.tex, modified by Xing Chao  to use in embedded system lectures, 


%\usepackage[german]{babel}
%\usepackage[latin1]{inputenc}
%\usepackage[utf8]{inputenc}
%\usepackage[T1]{fontenc}
\usepackage{etex}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{soul}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{hyperref}
\tolerance=1000
\usepackage{amsmath}
\usepackage{color}
\usepackage{pstricks}
\usepackage{pgfplots}
\usepackage{tikz}
\usepackage[europeanresistors,americaninductors]{circuitikz}
\usepackage{colortbl}
\usepackage{yfonts}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{intersections}
\usetikzlibrary{calc,patterns,decorations.pathmorphing,decorations.markings}
\usepackage[BoldFont,SlantFont,CJKchecksingle]{xeCJK}
\setCJKmainfont[BoldFont=Evermore Hei]{Evermore Kai}
\setCJKmonofont{Evermore Kai}
%\xeCJKsetup{CJKglue=\hspace{0pt plus .08 \baselineskip }}
\usepackage{pst-node}
\usepackage{pst-plot}
\psset{unit=5mm}
%\mode<beamer>{\usetheme{JuanLesPins}}
\providecommand{\alert}[1]{\textbf{#1}}

\usepackage{times}
%\usepackage{amsmath,amssymb}
%\usepackage{graphicx}
%\usepackage{times}
%\usepackage{hyperref}
\usepackage{listings}
\mode<article>
{
  \usepackage{times}
  \usepackage{mathptmx}
  \usepackage[left=2.5cm,right=2.5cm,top=1.0cm,bottom=2.0cm]{geometry}
}

%\usepackage[T1]{fontenc}
%\usepackage{tikz}
%\usepackage{colortbl}
%\usepackage{yfonts}
%\usepackage{colortbl}
%\usepackage{translator} % comment this, if not available



% Beamer version theme settings

%\setbeamercovered{transparent}
%\beamerdefaultoverlayspecification{<+->}

\useoutertheme[height=0pt,width=2cm,right]{sidebar}
%\usecolortheme{seagull}
\usecolortheme{rose,sidebartab}
\useinnertheme{rounded}
\usefonttheme[only large]{structurebold}

%\setbeamercolor{sidebar right}{bg=black!15}
\setbeamercolor{sidebar right}{bg=}%set sidebar background transparent
%\setbeamercolor{structure}{fg=blue}
\setbeamercolor{author}{parent=structure}

\setbeamercolor{background canvas}{bg=}%set background transparent


\setbeamerfont{title}{series=\normalfont,size=\LARGE}
\setbeamerfont{title in sidebar}{series=\bfseries}
\setbeamerfont{author in sidebar}{series=\bfseries}
\setbeamerfont*{item}{series=}
\setbeamerfont{frametitle}{size=}
\setbeamerfont{block title}{size=\small}
\setbeamerfont{subtitle}{size=\normalsize,series=\normalfont}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{bibliography item}[book]

\logo{\includegraphics[width=1cm]{../style/nwpu1.pdf}}

% manage appearance in sidebar  ------------------
\setbeamertemplate{sidebar right}
{
  \vskip2.25em% if there is too much content in the sidebar, reduce its value
  \hbox to2cm{\hss\insertlogo\hss}
  {\usebeamerfont{title in sidebar}%
    \vskip2.5em%
    \hskip3pt%
    \usebeamercolor[fg]{title in sidebar}%
    \insertshorttitle[width=1.6cm,center,respectlinebreaks]\par%
    \vskip1.25em%
  }%
  {%
    \hskip3pt%
    \usebeamercolor[fg]{author in sidebar}%
    \usebeamerfont{author in sidebar}%
    \insertshortauthor[width=1.8cm,center,respectlinebreaks]\par%
    \vskip1.25em%
  }%
  
  \vskip1.25em%
  \insertverticalnavigation{2cm}%
  \vfill
  \hbox to 2cm{\hfill\usebeamerfont{subsection in
      sidebar}\strut\usebeamercolor[fg]{subsection in
      sidebar}\insertshortlecture\hskip1em\insertframenumber/\inserttotalframenumber\hskip5pt}%
  \vskip3pt%
}%

% manage appearance in title page  -------------------
\setbeamertemplate{title page}
{
  \vbox{}
  \vskip1em

   %\emph{\lecturename}\ \hskip1em \insertdate\par {\insertshortlecture\par}
   {\fontsize{10pt}{10pt}\selectfont \emph{\lecturename} \insertshortlecture \ \insertdate\par} %short lecture : such as "Chapter 1"
   \vskip1em\par
  %{\huge  \insertshortlecture\par}
  \vskip3em\par
  {\center \usebeamercolor[fg]{title}\usebeamerfont{title}\inserttitle\par}%
  \ifx\insertsubtitle\@empty%
  \else%
    \vskip0.25em%
    {\center \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
  \fi%
  \vskip0pt plus1filll
  {\center  \fontsize{8pt}{8pt}\selectfont\insertauthor\par}% print name of author
  {\center  \fontsize{8pt}{8pt}\selectfont\insertinstitute\vskip1em}% print name of author's institute
  \vskip5em
}




% Article version layout settings   ---------------------------------------------------

\mode<article>

\makeatletter
\def\@listI{\leftmargin\leftmargini
  \parsep 0pt
  \topsep 5\p@   \@plus3\p@ \@minus5\p@
  \itemsep0pt}
\let\@listi=\@listI


\setbeamertemplate{frametitle}{\paragraph*{\insertframetitle\
    \ \small\insertframesubtitle}\ \par
}
\setbeamertemplate{frame end}{%
  %\marginpar{\scriptsize\hbox to 1cm{\sffamily%
      %\hfill\strut\insertshortlecture.\insertframenumber}\hrule height .2pt}}
  \marginpar{\scriptsize{\sffamily%
      \hfill\strut<\insertshortlecture.\insertframenumber>}}}
\setlength{\marginparwidth}{1cm}
\setlength{\marginparsep}{0.5cm}

\def\@maketitle{\makechapter}

\def\makechapter{
 \newpage
  \null
  \vskip 2em%
  {%
    \parindent=0pt
    \raggedright
    \sffamily
    \vskip8pt
    %{\fontsize{36pt}{36pt}\selectfont \insertshortlecture \par\vskip2pt}
    %{\Large\selectfont \color{blue!50!black} \insertsubtitle\par}
    \normalsize\selectfont 
     \emph{\lecturename}.\insertshortlecture.\@date \hfill Northwestern Polytechnical University\par\vskip1.5em
    \vskip10pt
    %{\fontsize{24pt}{28pt}\selectfont \center{\insertlecture}\par\vskip4pt}
    {\fontsize{24pt}{28pt}\selectfont \color{blue!50!black} \center{\insertlecture}\par\vskip4pt}
    {\Large\selectfont  \center{\insertsubtitle}\par}
    \center{\@author}
    \vskip10pt
  }
  \par
  \vskip 1.5em%
}

\let\origstartsection=\@startsection
\def\@startsection#1#2#3#4#5#6{%
  %\origstartsection{#1}{#2}{#3}{#4}{#5}{#6\normalfont\sffamily\color{blue!50!black}\selectfont}}
  \origstartsection{#1}{#2}{#3}{#4}{#5}{#6\normalfont\sffamily\selectfont}}

\makeatother

\mode
<all>


% Typesetting Listings

\usepackage{listings}
\lstset{language=C}

\alt<presentation>
{\lstset{%
    basicstyle=\footnotesize\ttfamily,
  commentstyle=\slshape\color{green!50!black},
  keywordstyle=\bfseries\color{blue!50!black},
  identifierstyle=\color{blue},
  stringstyle=\color{orange},
%  escapechar=\#,
  emphstyle=\color{red}}
}
{
  \lstset{%
  basicstyle=\footnotesize\ttfamily,
  commentstyle=\slshape\color{green},
  keywordstyle=\bfseries\color{blue},
  identifierstyle=\color{red},
  stringstyle=\color{orange},
  breaklines=true,
%    escapechar=\#,
    emphstyle=\bfseries\color{red}
  }
}



% Common theorem-like environments

\theoremstyle{definition}
\newtheorem{exercise}[theorem]{\translate{Exercise}}




% New useful definitions:

\newbox\mytempbox
\newdimen\mytempdimen

\newcommand\includegraphicscopyright[3][]{%
  \leavevmode\vbox{\vskip3pt\raggedright\setbox\mytempbox=\hbox{\includegraphics[#1]{#2}}%
    \mytempdimen=\wd\mytempbox\box\mytempbox\par\vskip1pt%
    \fontsize{3}{3.5}\selectfont{\color{black!25}{\vbox{\hsize=\mytempdimen#3}}}\vskip3pt%
}}

\newenvironment{colortabular}[1]{\medskip\rowcolors[]{1}{blue!20}{blue!10}\tabular{#1}\rowcolor{blue!40}}{\endtabular\medskip}

\def\equad{\leavevmode\hbox{}\quad}

\newenvironment{greencolortabular}[1]
{\medskip\rowcolors[]{1}{green!50!black!20}{green!50!black!10}%
  \tabular{#1}\rowcolor{green!50!black!40}}%
{\endtabular\medskip}



